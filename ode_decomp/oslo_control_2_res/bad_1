bounce cost = 0.1
rebalancing cost = 0.5

doesn't account for starting level impact on rebalncing cost..


Original prices: [1.3813989625111245, 1.3, 1.312033432157319, 0.960911009125427, 0.9713703272059542, 1.1790604741478234, 0.9183290498571494, 1.2611354183185115, 1.23224723518753, 1.0800172972908184, 1.3297360820271429, 0.9907201335866004, 1.0639873964762545, 0.947013236350972, 1.3082704855464864, 0.9913230765499185, 1.132886589055467, 1.2635562295620943, 0.9529188382474167, 1.3430626736149183, 1.0048230863631085, 1.1549598543762845, 1.0553425510615324, 0.9946214889827781, 1.0200403653137255, 1.2939982963691745, 1.1210267757520636, 1.267618916309383, 1.054249152991434, 1.2024400235153925, 1.0471786770316618, 1.1768886127081717, 0.9057303047098981, 1.311740962470975, 1.1865868515360438, 1.0397752627660677, 0.9839598764050568, 1.10781036367422, 1.4222834036980825, 0.9686099928541714, 1.1758299139722546, 1.1269560303926007, 1.2512368896814663, 1.2123799535453053, 1.2783726159646607, 0.983727530374805, 1.2003838752179294, 1.2, 1.0589301149537638, 1.4363043213305784, 1.3, 0.9810547245415219, 1.0185858249307298, 1.2222038828984956, 1.3, 1.174712912430939, 1.0446212379767819, 1.014835991726802], alpha: 0.007285035664843749
Overall derivatives: [-96.27732063467681, -87.15349233062133, -1.16664446119605, 1.179796057092318, -0.09393153662552578, -0.26104958679450263, 10.704068883113905, 3.0887609090948445, -0.20494942626010015, 41.01830556257424, -47.49256456472972, 0.11869181447318056, -0.7730428015517674, 9.402382788710298, -45.38058560915735, -0.0952309418072681, 25.469738937994734, -15.100198736241609, 19.711353292180945, -11.391560234569212, 36.19395038842006, 35.70896815741412, 0.42787816233543907, -0.04249944715604226, 0.5307218163165963, -5.58605358075075, 1.3955350675316538, -0.3441396960629248, 0.6614740320307835, -11.578374280937297, 0.5566557317280321, 3.0054454208627703, 18.2511887810754, -66.8665189193903, -1.649609839864553, 10.415995755869275, 0.014565807096303729, 0.23154129605624263, -22.27321239025082, -4.207194031339782, 15.172080814690915, 33.32021061825762, 0.3523733558399158, -0.44537909178698243, -1.1117100800717559, -0.06453931052027428, -0.7194692660620348, 15.812252675357342, -18.180249164068897, -147.18430883827472, -54.569444524979986, -7.818292057932638, 1.5436640608520644, 3.1471169817454694, -77.45419209333951, 78.61616703769917, -3.743705770053708, -8.13057134720529]
Rebalancing derivatives: [0.25, 0.25, -0.25, 0.25, 0.25, -0.25, 0.25, -0.25, -0.25, -0.25, -0.25, 0.25, -0.25, 0.25, 0.25, -0.25, -0.25, -0.25, 0.25, -0.25, -0.25, -0.25, -0.25, -0.25, -0.25, -0.25, -0.25, -0.25, -0.25, -0.25, -0.25, -0.25, 0.25, -0.25, -0.25, -0.25, 0.25, -0.25, -0.25, 0.25, -0.25, -0.25, -0.25, -0.25, -0.25, 0.25, -0.25, -0.25, 0.25, 0.25, 0.25, 0.25, 0.25, -0.25, 0.25, -0.25, 0.25, 0.25]
Pricing derivatives: [-96.52732063467681, -87.40349233062133, -0.91664446119605, 0.929796057092318, -0.3439315366255258, -0.01104958679450263, 10.454068883113905, 3.3387609090948445, 0.045050573739899846, 41.26830556257424, -47.24256456472972, -0.13130818552681944, -0.5230428015517674, 9.152382788710298, -45.63058560915735, 0.1547690581927319, 25.719738937994734, -14.850198736241609, 19.461353292180945, -11.141560234569212, 36.44395038842006, 35.95896815741412, 0.6778781623354391, 0.20750055284395774, 0.7807218163165963, -5.33605358075075, 1.6455350675316538, -0.09413969606292483, 0.9114740320307835, -11.328374280937297, 0.8066557317280321, 3.2554454208627703, 18.0011887810754, -66.6165189193903, -1.399609839864553, 10.665995755869275, -0.23543419290369627, 0.48154129605624263, -22.02321239025082, -4.457194031339782, 15.422080814690915, 33.57021061825762, 0.6023733558399158, -0.19537909178698243, -0.8617100800717559, -0.3145393105202743, -0.46946926606203476, 16.062252675357342, -18.430249164068897, -147.43430883827472, -54.819444524979986, -8.068292057932638, 1.2936640608520644, 3.3971169817454694, -77.70419209333951, 78.86616703769917, -3.993705770053708, -8.38057134720529]
New prices: [1.0813989625111244, 1.0, 1.3035343856493133, 0.9695058654785866, 0.9706860326115836, 1.1771587185977328, 0.9963085734295783, 1.2836371517014427, 1.230754171307736, 1.3788371162256305, 1.0297360820271428, 0.9915848076881625, 1.0583557520964992, 1.0155099303012396, 1.0082704855464864, 0.9906293157424558, 1.3184345455930182, 1.1535507432223457, 1.0965167499832902, 1.2600747510278658, 1.2684973057943338, 1.415100960957816, 1.058459658734354, 0.9943118789945102, 1.0239066926737026, 1.2533036968076772, 1.1311932984905717, 1.265111846349876, 1.0590680149061462, 1.1180911539378546, 1.0512339338903403, 1.1987833897878983, 1.0386908659058285, 1.011740962470975, 1.1745693850195533, 1.1156561633324364, 0.9840659888292406, 1.109497150273874, 1.2600222570644655, 0.9379604342869433, 1.2863590638171696, 1.3696949531067129, 1.2538039421461007, 1.2091353509772613, 1.2702737683823717, 0.9832573591958803, 1.1951425159549085, 1.3151928246814992, 0.9264863513977761, 1.1363043213305783, 1.0, 0.9240981880613179, 1.0298314726685747, 1.2451307423519467, 1.0, 1.474712912430939, 1.0173482079232592, 0.9556044894868547]
orig cell_levels: [9.304316382466395, 10.40407690575186, 8.53736732194287, 7.04053550218799, 7.097657347866713, 7.435362903660436, 6.794404749686359, 8.492686770465093, 7.984108824903654, 10.17747112604573, 8.804814949656615, 7.246693539786556, 9.584814206453181, 7.420981108423365, 8.986976429767296, 4.841436831876226, 10.071790470457405, 8.116812906107713, 7.6378036802221985, 8.980343578066655, 9.369329488137215, 8.81663067686015, 5.553741411476588, 4.989460433807194, 5.783486530661142, 10.629981130534226, 8.020180717160095, 7.739326397958337, 5.363199412594302, 8.016682640923458, 5.2984487472279245, 9.368507936019602, 9.105495895324767, 8.982739276801043, 8.26684938335804, 9.923270155671018, 6.537180892844561, 6.159392253191188, 10.668965420588343, 7.094592009301839, 8.962429504481664, 10.363242865135916, 9.54846175355638, 9.228374969020253, 7.91422806441875, 7.789108108622007, 8.951141944516559, 11.473096992458022, 7.508139221816994, 9.680502259234403, 9.029775758497902, 7.079310507043282, 6.626565474216191, 6.016371310886857, 11.244978679546625, 10.972104002321451, 6.63890205078875, 7.148663486346615]
new cell_levels: [9.377627157457377, 10.536015850046729, 8.742636606800474, 7.127614209804344, 7.133979979469449, 7.462825948751732, 6.8894774328955535, 8.73396272776232, 8.158006606139466, 10.776206551890123, 8.944054344672924, 7.300030097466838, 9.593184276717178, 7.6686573498334845, 9.03121894214053, 4.717491331078939, 10.435101191744335, 8.071212283888935, 7.758510414768548, 9.14836235251704, 9.627543354297892, 9.330223860055915, 5.516292498503787, 4.884696274272409, 5.70631172309986, 10.817274886062773, 8.168905589222257, 7.845752536323966, 5.301250379227806, 8.408564651200516, 5.226781487065019, 9.59965424903485, 9.252654165249348, 8.897621058393257, 8.53790105280957, 10.067249194518483, 6.6038055670290285, 6.1434882762939775, 10.794787336218317, 7.162704869415524, 9.229104920633576, 11.152138964509787, 9.817613253997063, 9.313112178254952, 7.942753348654852, 7.893155278096664, 9.09549284808003, 11.682868660562395, 7.659263017933172, 9.842767331624028, 9.393943160340127, 7.164252010443288, 6.959979183449658, 6.256023958362879, 11.472137954698299, 11.570418430000501, 6.691062886327556, 7.214882376553353]
At iteration 7...profit: 3525.4940826158604, regret: 232.20303686209357 rebalancing costs: 5305.9083819395055
previous iterations: [3062.0655119800754, 3271.216669061205, 3298.7916721453917, 3387.130028520896, 3410.419044093027, 3459.3608303542173, 3471.2027561586174, 3525.4940826158604]
.with rebalancing costs: [5339.320570485333, 5273.172397157795, 5299.255931479843, 5285.9501502221465, 5301.060961515179, 5300.724516755518, 5307.913017376603, 5305.9083819395055]
and regret: [978.4303412693422, 436.3370326019715, 407.345548931078, 329.9171247184152, 311.3148261850047, 278.7054354530436, 261.360641245911, 232.20303686209357]
